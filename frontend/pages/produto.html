<!DOCTYPE html>
<html lang="pt-br">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Detalhes do Produto</title>
  <link rel="stylesheet" href="../assets/css/produto.css">
</head>
<body>

  <nav class="navbar">
    <img src="../assets/images/logo.png" alt="Logo" class="logo">
    <div class="hamburger">
      <div></div>
      <div></div>
      <div></div>
    </div>
    <ul class="nav-links">
      <li class="dropdown">
        <a href="#">Cadastros</a>
        <ul class="dropdown-menu">
          <li><a href="veiculos.html">Veículos</a></li>
          <li><a href="produtos.html">Produtos</a></li>
          <li><a href="marcas.html">Marcas</a></li>
          <li><a href="TiposVeiculo.html">Tipos de Veículos</a></li>
          <li><a href="TiposProduto.html">Tipos de Produtos</a></li>
          <li><a href="cores.html">Cores</a></li>          
        </ul>
      </li>
      <li class="dropdown">
        <a href="#">Operações</a>
        <ul class="dropdown-menu">
          <li><a href="vendas_v2.html">Vendas</a></li>
          <li><a href="manutencoes.html">Manutenções</a></li>
        </ul>
      </li>
      <li class="dropdown">
        <a href="#">Pessoas</a>
        <ul class="dropdown-menu">
          <li><a href="vendedores_v2.html">Vendedores</a></li>
          <li><a href="clientes_v2.html">Clientes</a></li>
        </ul>
      </li>
    </ul>
  </nav>

  <main class="main-content">
    <div class="product-details-container">
      <div class="product-details-img-col">
        <img src="../assets/images/pneu.png" alt="Pneu de Borracha" class="product-details-img" id="mainProductImg">
        <div class="carousel-container">
          <button class="carousel-btn" id="carouselPrev" disabled>&#8592;</button>
          <div class="carousel-images" id="carouselImages">
            <img src="../assets/images/pneu.png" alt="Pneu 1" class="carousel-thumb active" onclick="setMainImage(this)">
            <img src="../assets/images/pneu.png" alt="Pneu 2" class="carousel-thumb" onclick="setMainImage(this)">
            <img src="../assets/images/pneu.png" alt="Pneu 3" class="carousel-thumb" onclick="setMainImage(this)">
            <img src="../assets/images/pneu.png" alt="Pneu 4" class="carousel-thumb" onclick="setMainImage(this)">
          </div>
          <button class="carousel-btn" id="carouselNext" disabled>&#8594;</button>
        </div>
      </div>
      <div class="product-details-info">
        <div class="product-details-title">Pneu de Borracha 205/55 R16</div>
        <div class="product-details-desc">Pneu de borracha de alta durabilidade, ideal para carros de passeio.</div>
        <div class="product-details-meta">
          <div><strong>Tipo:</strong> Pneu</div>
          <div><strong>Código:</strong> 123456</div>
          <div><strong>Estoque:</strong> 25 unidades</div>          
        </div>
        <div class="product-details-price">R$ 350,00</div>
        <button class="edit-product-btn" onclick="openEditModal()">Editar Produto</button>
      </div>
    </div>
  </main>

  <!-- Modal de Edição -->
  <div id="edit-modal-overlay" class="modal-overlay" style="display: none;">
    <div class="modal-window">
      <button class="close-modal" onclick="closeEditModal()">×</button>
      <h2>Editar Produto</h2>
      <hr class="modal-divider">
      <form class="product-form">
        <div class="image-upload-row">
          <button type="button" class="add-image-btn">Alterar Imagem</button>
          <img src="../assets/images/pneu.png" alt="Prévia da Imagem" class="product-image-preview">
        </div>
        <div class="form-row">
          <div class="form-group">
            <label for="edit-nome">Nome</label>
            <input type="text" id="edit-nome" name="edit-nome" value="Pneu de Borracha 205/55 R16">
          </div>
        </div>
        <div class="form-row">
          <div class="form-group">
            <label for="edit-tipo">Tipo de Produto</label>
            <select id="edit-tipo" name="edit-tipo">
              <option selected>Pneu</option>
              <option>Óleo</option>
              <option>Peças</option>
            </select>
          </div>
        </div>
        <div class="form-row">
          <div class="form-group">
            <label for="edit-codigo">Código</label>
            <input type="text" id="edit-codigo" name="edit-codigo" value="123456">
          </div>
          <div class="form-group">
            <label for="edit-estoque">Estoque</label>
            <input type="number" id="edit-estoque" name="edit-estoque" value="25">
          </div>
        </div>        
        <div class="form-row">
          <div class="form-group">
            <label for="edit-preco">Preço</label>
            <input type="text" id="edit-preco" name="edit-preco" value="350,00">
          </div>
        </div>
        <button type="submit" class="submit-btn">Salvar Alterações</button>
      </form>
    </div>
  </div>

  <script>
    // Modal
    function openEditModal() {
      document.getElementById('edit-modal-overlay').style.display = 'flex';
      document.body.style.overflow = 'hidden';
    }
    function closeEditModal() {
      document.getElementById('edit-modal-overlay').style.display = 'none';
      document.body.style.overflow = '';
    }
    document.getElementById('edit-modal-overlay').addEventListener('click', function(e) {
      if (e.target === this) closeEditModal();
    });

    // Carrossel
    function setMainImage(imgElem) {
      document.getElementById('mainProductImg').src = imgElem.src;
      const thumbs = document.querySelectorAll('.carousel-thumb');
      thumbs.forEach(t => t.classList.remove('active'));
      imgElem.classList.add('active');
    }
  </script>

  <script>
    // Toggle do menu hamburguer
    const hamburger = document.querySelector('.hamburger');
    const navLinks = document.querySelector('.nav-links');

    hamburger.addEventListener('click', () => {
      navLinks.classList.toggle('active');
    });

    // Dropdowns por clique no mobile
    const dropdowns = document.querySelectorAll('.dropdown > a');
    dropdowns.forEach(dropdown => {
      dropdown.addEventListener('click', (e) => {
        if(window.innerWidth <= 900) {
          e.preventDefault();
          const parent = dropdown.parentElement;
          parent.classList.toggle('active');
        }
      });
    });
</script>
</body>
</html>
